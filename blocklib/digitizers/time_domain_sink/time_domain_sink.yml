module: digitizers
block: time_domain_sink
label: time_domain_sink
blocktype: sync_block
includes:
  - gnuradio/digitizers/enums.h
# TODO(PORT) removing the template parameter leads to an undefined ref. to
# the pmtv::pmt(time_sink_mode_t) ctor when linking the digitizers lib.
# Probably a bug in code generation for enums.yml.
typekeys:
  - id: T
    type: class
    options:
        - rf32
parameters:
-   id: signal_name
    label: Signal Name
    dtype: string
-   id: signal_unit
    label: Signal Unit
    dtype: string
-   id: samp_rate
    label: Sample rate (Hz)
    dtype: float
    settable: true
-   id: acquisition_type
    label: Mode
    dtype: enums/time_sink_mode_t
    is_enum: true
    gettable: true
-   id: output_package_size
    label: Output Package Size
    dtype: size
    gettable: true

callbacks:
   - id: set_callback
     return: void
     args:
      - id: cb
        dtype: std::function<void(std::vector<float>, std::vector<float>, std::vector<gr::tag_t>, void*)>
      - id: user_data
        dtype: void*

ports:
-   domain: stream
    id: in_values
    direction: input
    type: typekeys/T
-   domain: stream
    id: in_errors
    direction: input
    type: typekeys/T
    optional: true

implementations:
-   id: cpu

file_format: 1
