module: digitizers
block: decimate_and_adjust_timebase
label: Decimate and Adjust Timebase Tags
blocktype: block

parameters:
-   id: decimation
    label: Decimation
    dtype: size
    default: 1
-   id: delay
    label: Delay
    dtype: rf64
    default: 0.0
-   id: sample_rate
    label: Sample Rate (Hz)
    dtype: rf64

ports:
-   domain: stream
    id: in
    direction: input
    type: rf32
-   domain: stream
    id: out
    direction: output
    type: rf32

implementations:
-   id: cpu

file_format: 1

doc:
  brief: Decimates the samples (keep 1 in N) and fixes tags.
  detail: |-
        Tags are attached to the correspondent decimated sample, timebase and acq_info tags
        are fixed with the decimation factor and user provided delay. If more than one acq_info
        tags falls into the same output offset then the tags get merged.
