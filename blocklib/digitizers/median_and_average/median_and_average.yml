module: digitizers
block: median_and_average
label: Median & Average
blocktype: block

parameters:
-   id: vec_len
    label: Vector Length
    dtype: size
-   id: n_med
    label: Median Filter Window Size
    dtype: size
-   id: n_lp
    label: Averaging Filter Window Size
    dtype: size

ports:
-   domain: stream
    id: in
    direction: input
    type: rf32
    shape: parameters/vec_len

-   domain: stream
    id: out
    direction: output
    type: rf32
    shape: parameters/vec_len

implementations:
-   id: cpu

file_format: 1

doc:
  brief: This block filters the signal by first passing it into a median filter that takes care of high signal spikes, and then averages the result to result in a smooth estimation of the signals components.
  detail: |-
        Operates with vectors, for easier transmission of the full spectrum we're estimating at a given point.
